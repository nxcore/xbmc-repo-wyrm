<?xml version="1.0" encoding="UTF-8"?>
<window>
	<defaultcontrol always="true">9000</defaultcontrol>
	<allowoverlay>no</allowoverlay>
	<previouswindow>Home</previouswindow>
	<controls>
		<control type="group"><!-- Weather screen background image -->
			<control type="image"><!-- Solid background -->
				<posx>0</posx>
				<posy>0</posy>
				<width>1280</width>
				<height>720</height>
				<texture>background.png</texture>
				<aspectratio>stretch</aspectratio>
				<visible>IsEmpty(Skin.String(custom-background))</visible>
			</control>
			<control type="image"><!-- Custom background -->
				<posx>0</posx>
				<posy>0</posy>
				<width>1280</width>
				<height>720</height>
				<texture>$INFO[Skin.String(custom-background)]</texture>
				<aspectratio>stretch</aspectratio>
				<visible>!IsEmpty(Skin.String(custom-background))</visible>
			</control>
			<control type="group">
				<control type="group">
					<visible>Window.IsActive(weather) + !IsEmpty(Skin.String(custom-weatherbackgrounds)) + [!Player.HasVideo | !Player.HasAudio]</visible>
					<control type="multiimage"><!-- Use Custom weather condition backgrounds if location selected -->
						<posx>0</posx>
						<posy>0</posy>
						<width>1280</width>
						<height>720</height>
						<imagepath background="true">$INFO[Skin.String(custom-weatherbackgrounds)]$INFO[Window(Weather).Property(Current.FanartCode)]</imagepath>
						<aspectratio>scale</aspectratio>
						<timeperimage>5000</timeperimage>
						<randomize>true</randomize>
						<fadetime>400</fadetime>
					</control>
				</control>
				<control type="group">
					<visible>Skin.HasSetting(HomeViewToggle)</visible>
					<control type="group">
						<visible>Player.HasVideo</visible>
						<control type="videowindow">
							<posx>0</posx>
							<posy>0</posy>
							<width>1280</width>
							<height>720</height>
							<aspectratio>stretch</aspectratio>
						</control>
					</control>
					<control type="visualisation">
						<posx>0</posx>
						<posy>0</posy>
						<width>1280</width>
						<height>720</height>
						<aspectratio>stretch</aspectratio>
						<visible>Player.HasAudio</visible>
					</control>
				</control>
				<control type="group">
					<visible>Skin.HasSetting(background-slideshow) + Player.HasAudio + !SubString(Window(VideoLibrary).Property(TvTunesIsAlive),True)</visible>
					<control type="image"><!-- Mask out any backgrounds showing around ArtistSlideshow Fanart -->
						<posx>0</posx>
						<posy>0</posy>
						<width>1280</width>
						<height>720</height>
						<texture>colours/black.png</texture>
						<aspectratio>stretch</aspectratio>
					</control>
					<control type="multiimage"><!-- Backgroung ArtistSlideshow fanart image -->
						<posx>0</posx>
						<posy>0</posy>
						<width>1280</width>
						<height>720</height>
						<imagepath fallback="blank.png" background="true">$INFO[Window(Visualisation).Property(ArtistSlideshow)]</imagepath>
						<aspectratio>keep</aspectratio>
						<timeperimage>5000</timeperimage>
						<fadetime>400</fadetime>
						<randomize>true</randomize>
					</control>
				</control>
			</control>
			<control type="image"><!-- Mask to fade background -->
				<posx>0</posx>
				<posy>0</posy>
				<width>1280</width>
				<height>720</height>
				<colordiffuse>mask-background</colordiffuse>
				<texture>colours/black.png</texture>
				<animation effect="fade" start="100" end="80" condition="Skin.HasSetting(background-visibiltyhigh)">Conditional</animation>
				<animation effect="fade" start="100" end="90" condition="Skin.HasSetting(background-visibiltymed)">Conditional</animation>
				<aspectratio>stretch</aspectratio>
				<visible>!IsEmpty(Skin.String(custom-weatherbackgrounds)) | Skin.HasSetting(HomeViewToggle) | Skin.HasSetting(background-slideshow)</visible>
			</control>
		</control>

		<control type="image"><!-- Weather heading logo -->
			<include>icon-header-commons</include>
			<texture>icon-weather.png</texture>
			<visible>Skin.HasSetting(home-weather)</visible>
		</control>
		<control type="label"><!-- Weather heading label -->
			<posx>946</posx>
			<posy>50</posy>
			<width>309</width>
			<height>37</height>
			<label>$LOCALIZE[31032]</label>
			<font>font20</font>
		</control>

		<control type="group">
			<visible>Weather.IsFetched</visible>
			<control type="label"><!-- Weather location label -->
				<posx>17</posx>
				<posy>2</posy>
				<width>636</width>
				<height>37</height>
				<font>font18</font>
				<include condition="Skin.HasSetting(autoscroll)">scrolltext</include>
				<label>$INFO[Window(Weather).Property(Location)]</label>
			</control>
			<control type="label"><!-- Update label -->
				<posx>17</posx>
				<posy>38</posy>
				<width>636</width>
				<height>25</height>
				<font>font11</font>
				<label>$LOCALIZE[31531] - $INFO[Window(Weather).Property(Updated)]</label>
			</control>
			<control type="group">
				<control type="image"><!-- Weather provider logo -->
					<posx>18</posx>
					<posy>63</posy>
					<width>180</width>
					<height>45</height>
					<colordiffuse>StudioShadow</colordiffuse>
					<aspectratio>keep</aspectratio>
					<texture>$INFO[Window(Weather).Property(WeatherProviderLogo)]</texture>
				</control>
				<control type="image"><!-- Weather provider logo (shadow) -->
					<posx>17</posx>
					<posy>62</posy>
					<width>180</width>
					<height>45</height>
					<colordiffuse>StudioDiffuse</colordiffuse>
					<aspectratio>keep</aspectratio>
					<texture>$INFO[Window(Weather).Property(WeatherProviderLogo)]</texture>
				</control>
			</control>
			<control type="label"><!-- Weather provider label -->
				<posx>17</posx>
				<posy>64</posy>
				<width>636</width>
				<height>20</height>
				<font>font11</font>
				<label>$INFO[Window(Weather).Property(WeatherProvider),$LOCALIZE[31536] - ]</label>
				<visible>IsEmpty(Window(Weather).Property(WeatherProviderLogo))</visible>
			</control>
		</control>

		<include>weather</include>

		<control type="group" id="9000"><!-- Button Group -->
			<control type="spincontrolex" id="3"><!-- Change location button -->
				<posx>176</posx>
				<posy>662</posy>
				<width>309</width>
				<height>50</height>
				<font>-</font>
				<onleft>1115</onleft>
				<onright>2</onright>
				<onup>7050</onup>
				<ondown>7050</ondown>
			</control>
			<control type="label"><!-- Change location label -->
				<posx>193</posx>
				<posy>662</posy>
				<width>250</width>
				<height>50</height>
				<label>$LOCALIZE[31530]</label>
			</control>
			<control type="button" id="2"><!-- Refresh button -->
				<posx>486</posx>
				<posy>662</posy>
				<width>309</width>
				<height>50</height>
				<label>$LOCALIZE[103]</label>
				<align>center</align>
				<onleft>3</onleft>
				<onright>4</onright>
				<onup>7050</onup>
				<ondown>7050</ondown>
			</control>
			<control type="button" id="4"><!-- Settings button -->
				<posx>796</posx>
				<posy>662</posy>
				<width>309</width>
				<height>50</height>
				<label>$LOCALIZE[5]</label>
				<align>center</align>
				<onclick>ActivateWindow(MyWeatherSettings)</onclick>
				<onleft>2</onleft>
				<onright>1115</onright>
				<onup>7050</onup>
				<ondown>7050</ondown>
			</control>
		</control>
	</controls>
</window>
